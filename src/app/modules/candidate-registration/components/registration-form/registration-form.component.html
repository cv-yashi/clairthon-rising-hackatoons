<div class="d-flex justify-content-center">
  <h3>Candidate Registration Form</h3>
</div>
<form class="m-2 p-3" [formGroup]="registrationForm" (ngSubmit)="submitRegistrationForm(registrationForm)">
  <div class="form-group mb-2">
    <label for="name"> Name: </label>
    <input id="name" class="form-control" formControlName="name" placeholder="Candidate full name" />
    <small
      *ngIf="
        registrationForm.get('name')?.invalid &&
        (registrationForm.get('name')?.dirty || registrationForm.get('name')?.touched)
      "
    >
      Please provide candidate full name.
    </small>
  </div>
  <div class="form-group mb-2">
    <label for="email"> Email: </label>
    <input id="email" class="form-control" formControlName="email" placeholder="Candidate email" />
    <div
      *ngIf="
        registrationForm.get('email')?.invalid &&
        (registrationForm.get('email')?.dirty || registrationForm.get('email')?.touched)
      "
    >
      Please provide a valid email address.
    </div>
  </div>
  <div class="form-group mb-2">
    <label for="contact_number"> Contact Number: </label>
    <input
      id="contact_number"
      class="form-control"
      formControlName="contactNumber"
      placeholder="Candidate contact number"
    />
    <small
      *ngIf="
        registrationForm.get('contactNumber')?.invalid &&
        (registrationForm.get('contactNumber')?.dirty || registrationForm.get('contactNumber')?.touched)
      "
    >
      Please provide a valid contact number.
    </small>
  </div>
  <div class="form-group mb-2">
    <label for="tech_skills"> Technical Skills: </label>
    <ng-multiselect-dropdown
      [placeholder]="'Select Technical Skills'"
      [settings]="dropdownSettings"
      [data]="skillsList"
      formControlName="techSkills"
    >
    </ng-multiselect-dropdown>
    <small
      *ngIf="
        registrationForm.get('techSkills')?.invalid &&
        (registrationForm.get('techSkills')?.dirty || registrationForm.get('techSkills')?.touched)
      "
    >
      Please provide candidate technical skills.
    </small>
  </div>
  <div class="form-group mb-2">
    <label for="tech_experience"> Technical Experience: </label>

    <div *ngFor="let exp of yearsOfExperience; let i = index">
      <input
        type="radio"
        id="tech_experience"
        formControlName="techExperience"
        id="radio{{ i }}"
        name="techExperience"
        [value]="exp.id"
      />
      <label class="custom-control-label m-1" for="radio{{ i }}">
        {{ exp.years || '?' }}
      </label>
    </div>
    <small
      *ngIf="
        registrationForm.get('techExperience')?.invalid &&
        (registrationForm.get('techExperience')?.dirty || registrationForm.get('techExperience')?.touched)
      "
    >
      Please provide candidate technical experience.
    </small>
  </div>
  <div class="form-group mb-2">
    <label for="open_positions"> Open Positions: </label>
    <input id="open_positions" class="form-control" formControlName="openPosition" placeholder="Open positions" />
    <small
      *ngIf="
        registrationForm.get('openPosition')?.invalid &&
        (registrationForm.get('openPosition')?.dirty || registrationForm.get('openPosition')?.touched)
      "
    >
      Please provide open positions.
    </small>
  </div>
  <div class="form-group d-flex justify-content-center">
    <button class="ms-3 rounded" type="submit" [disabled]="registrationForm.invalid">Submit Form</button>
    <button
      class="ms-3 rounded"
      type="button"
      [disabled]="registrationForm.invalid"
      (click)="generateTestLink(registrationForm)"
    >
      Generate Test Link
    </button>
  </div>
</form>
